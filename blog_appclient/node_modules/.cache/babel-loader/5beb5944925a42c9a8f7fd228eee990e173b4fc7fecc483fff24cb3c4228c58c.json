{"ast":null,"code":"import React from'react';import{useForm}from'react-hook-form';import{useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddArticle(){var _errors$title;let{register,handleSubmit,formState:{errors}}=useForm();let{currentUser}=useSelector(state=>state.userAuthorReducer);let navigate=useNavigate();//get token from the local storage\nlet token=localStorage.getItem('token');//create the axios with token\nlet axiosWithToken=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});async function getNewArticle(article){article.dateOfCreation=new Date();article.dateOfModification=new Date();article.articleId=Date.now();article.username=currentUser.username;article.comments=[];article.status=true;//make http post request\nlet res=await axiosWithToken.post('http://localhost:4000/author-api/articles',article);if(res.data.message==\"New article is created\"){navigate(\"/authorprofile/articles-by-author/\".concat(currentUser.username));}}return/*#__PURE__*/_jsx(\"div\",{style:{fontFamily:'Montserrat'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:600},className:\"card p-4 mx-auto  mt-5 shadow bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-dark mb-5 text-center\",children:\"Write an Article\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(getNewArticle),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",className:\"title form-control\",...register('title',{required:true})}),((_errors$title=errors.title)===null||_errors$title===void 0?void 0:_errors$title.type)=='required'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-1\",children:\"Title Required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fs-6\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category\",className:\"form-select\",...register(\"category\"),children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Choose option\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sports\",children:\"Sports\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AI and ML\",children:\"AI and ML\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Agriculture\",children:\"Agriculture\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Technology\",children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sustainability\",children:\"Sustainability\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"Content\",class:\"form-label\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"Content\",rows:\"8\",...register(\"Content\")})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info px-5 m-auto d-block\",children:\"POST\"})]})]})})});}export default AddArticle;","map":{"version":3,"names":["React","useForm","useSelector","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","AddArticle","_errors$title","register","handleSubmit","formState","errors","currentUser","state","userAuthorReducer","navigate","token","localStorage","getItem","axiosWithToken","create","headers","Authorization","concat","getNewArticle","article","dateOfCreation","Date","dateOfModification","articleId","now","username","comments","status","res","post","data","message","style","fontFamily","children","width","className","onSubmit","htmlFor","type","id","required","title","name","value","class","for","rows"],"sources":["C:/Users/heman/blog_app/blog_appclient/src/components/AddArticle.js"],"sourcesContent":["import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nfunction AddArticle() {\r\n\r\n    let {register,handleSubmit,formState:{errors}}=useForm()\r\n    let {currentUser}=useSelector(state=>state.userAuthorReducer)\r\n\r\n    let navigate=useNavigate()\r\n\r\n    //get token from the local storage\r\n    let token = localStorage.getItem('token')\r\n    //create the axios with token\r\n    let axiosWithToken=axios.create({\r\n        headers:{Authorization:`Bearer ${token}`}\r\n    })\r\n\r\n\r\n    async function getNewArticle(article)\r\n    {\r\n        article.dateOfCreation = new Date();\r\n        article.dateOfModification = new Date();\r\n        article.articleId = Date.now();\r\n        article.username = currentUser.username;\r\n        article.comments = [];\r\n        article.status = true;\r\n        \r\n        //make http post request\r\n        let res=await axiosWithToken.post('http://localhost:4000/author-api/articles',article)\r\n        if(res.data.message==\"New article is created\"){\r\n            navigate(`/authorprofile/articles-by-author/${currentUser.username}`)\r\n        }\r\n    }\r\n  return (\r\n    \r\n    <div style={{ fontFamily: 'Montserrat' }}>\r\n            <div style={{width:600}} className=\"card p-4 mx-auto  mt-5 shadow bg-light\">\r\n                <div className=\"card-body\">\r\n                    <h3 className=\"text-dark mb-5 text-center\">Write an Article</h3>\r\n                    <form onSubmit={handleSubmit(getNewArticle)}>\r\n                        \r\n                            <div className=\"title mb-3\">\r\n                                <label htmlFor=\"title\" className=\"form-label\">Title</label>    \r\n                                <input type=\"text\" id=\"title\" className=\"title form-control\" {...register('title',{required:true})} />\r\n                                {errors.title?.type=='required' && <p className='text-danger mt-1'>Title Required</p>}\r\n                            </div>\r\n                        \r\n                        <div className=\"mb-3\">\r\n                            <p className=\"fs-6\">Category</p>\r\n                            <select name=\"category\" id=\"category\" className=\"form-select\" {...register(\"category\")}>\r\n                                <option value=\"0\">Choose option</option>\r\n                                <option value=\"Sports\">Sports</option>\r\n                                <option value=\"AI and ML\">AI and ML</option>\r\n                                <option value=\"Agriculture\">Agriculture</option>\r\n                                <option value=\"Technology\">Technology</option>\r\n                                <option value=\"Sustainability\">Sustainability</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div class=\"mb-3\">\r\n                            <label for=\"Content\" class=\"form-label\">Content</label>\r\n                            <textarea class=\"form-control\" id=\"Content\" rows=\"8\"  {...register(\"Content\")}></textarea>\r\n                        </div>\r\n                        <button type='submit'className=\"btn btn-info px-5 m-auto d-block\">POST</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default AddArticle"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}