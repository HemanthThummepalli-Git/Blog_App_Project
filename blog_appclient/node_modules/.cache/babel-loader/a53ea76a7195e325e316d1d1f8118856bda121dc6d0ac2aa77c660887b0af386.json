{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector}from'react-redux';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function ArticlesByAuthor(){let{currentUser}=useSelector(state=>state.userAuthorReducer);let[articlesList,setArticles]=useState([]);//get token from the local storage\nlet token=localStorage.getItem('token');//create the axios with token\nlet axiosWithToken=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});const getArticleOfCurrentAuthor=async()=>{let res=await axiosWithToken.get(\"http://localhost:4000/author-api/articles/\".concat(currentUser.username));//console.log(res)\nsetArticles(res.data.payload);//console.log(res.data.payload)\n};useEffect(()=>{getArticleOfCurrentAuthor();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-75 d-block m-auto\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center text-white m-3\",children:[currentUser.username,\"'s articles\"]}),articlesList.map(articleObj=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-white m-3 rounded-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h1\",{children:articleObj.title}),/*#__PURE__*/_jsx(\"h2\",{className:\"fs-4\",children:articleObj.category}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info px-4 m-auto d-block\",children:\"Details\"})]})})},articleObj.id))]});}export default ArticlesByAuthor;","map":{"version":3,"names":["React","useEffect","useState","useSelector","axios","jsxs","_jsxs","jsx","_jsx","ArticlesByAuthor","currentUser","state","userAuthorReducer","articlesList","setArticles","token","localStorage","getItem","axiosWithToken","create","headers","Authorization","concat","getArticleOfCurrentAuthor","res","get","username","data","payload","className","children","map","articleObj","title","category","id"],"sources":["C:/Users/heman/blog_app/blog_appclient/src/components/ArticlesByAuthor.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nfunction ArticlesByAuthor() {\r\n\r\n    let {currentUser}=useSelector(state=>state.userAuthorReducer)\r\n    let [articlesList,setArticles]=useState([])\r\n\r\n    //get token from the local storage\r\n    let token = localStorage.getItem('token')\r\n    //create the axios with token\r\n    let axiosWithToken=axios.create({\r\n        headers:{Authorization:`Bearer ${token}`}\r\n    })\r\n\r\n    \r\n        const getArticleOfCurrentAuthor = async()=>{\r\n            let res=await axiosWithToken.get(`http://localhost:4000/author-api/articles/${currentUser.username}`)\r\n            //console.log(res)\r\n            setArticles(res.data.payload)\r\n            //console.log(res.data.payload)\r\n        }\r\n    \r\n\r\n        useEffect(()=>{\r\n            getArticleOfCurrentAuthor()\r\n          },[])\r\n\r\n  return (\r\n    <div className='w-75 d-block m-auto'>\r\n        <h1 className='text-center text-white m-3'>{currentUser.username}'s articles</h1>\r\n        {\r\n        articlesList.map(articleObj=><div key={articleObj.id}>\r\n\r\n            <div className='card bg-white m-3 rounded-3'>\r\n                <div className='card-body'>\r\n                    <h1>{articleObj.title}</h1>\r\n                    <h2 className='fs-4'>{articleObj.category}</h2>\r\n                    <button className='btn btn-info px-4 m-auto d-block'>Details</button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>)\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ArticlesByAuthor"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBACzB,QAAS,CAAAC,gBAAgBA,CAAA,CAAG,CAExB,GAAI,CAACC,WAAW,CAAC,CAACP,WAAW,CAACQ,KAAK,EAAEA,KAAK,CAACC,iBAAiB,CAAC,CAC7D,GAAI,CAACC,YAAY,CAACC,WAAW,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CAE3C;AACA,GAAI,CAAAa,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACzC;AACA,GAAI,CAAAC,cAAc,CAACd,KAAK,CAACe,MAAM,CAAC,CAC5BC,OAAO,CAAC,CAACC,aAAa,WAAAC,MAAA,CAAWP,KAAK,CAAE,CAC5C,CAAC,CAAC,CAGE,KAAM,CAAAQ,yBAAyB,CAAG,KAAAA,CAAA,GAAS,CACvC,GAAI,CAAAC,GAAG,CAAC,KAAM,CAAAN,cAAc,CAACO,GAAG,8CAAAH,MAAA,CAA8CZ,WAAW,CAACgB,QAAQ,CAAE,CAAC,CACrG;AACAZ,WAAW,CAACU,GAAG,CAACG,IAAI,CAACC,OAAO,CAAC,CAC7B;AACJ,CAAC,CAGD3B,SAAS,CAAC,IAAI,CACVsB,yBAAyB,CAAC,CAAC,CAC7B,CAAC,CAAC,EAAE,CAAC,CAEb,mBACEjB,KAAA,QAAKuB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChCxB,KAAA,OAAIuB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAEpB,WAAW,CAACgB,QAAQ,CAAC,aAAW,EAAI,CAAC,CAEjFb,YAAY,CAACkB,GAAG,CAACC,UAAU,eAAExB,IAAA,QAAAsB,QAAA,cAEzBtB,IAAA,QAAKqB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cACxCxB,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBtB,IAAA,OAAAsB,QAAA,CAAKE,UAAU,CAACC,KAAK,CAAK,CAAC,cAC3BzB,IAAA,OAAIqB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEE,UAAU,CAACE,QAAQ,CAAK,CAAC,cAC/C1B,IAAA,WAAQqB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,SAAO,CAAQ,CAAC,EACpE,CAAC,CACL,CAAC,EAR6BE,UAAU,CAACG,EAU7C,CAAC,CAAC,EAEN,CAAC,CAEV,CAEA,cAAe,CAAA1B,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}